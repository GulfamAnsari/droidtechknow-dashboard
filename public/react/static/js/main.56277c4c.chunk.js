(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){e.exports=a(260)},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},160:function(e,t){},162:function(e,t){},201:function(e,t){},202:function(e,t){},259:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(47),i=a.n(r),o=(a(134),a(6)),l=a(7),c=a(9),m=a(8),d=a(10),u=a(49),p=a(25);a(135);function h(){return s.a.createElement("header",{className:"page-title"},s.a.createElement("h1",null,"  ",s.a.createElement("i",{className:"material-icons"},"view_list"),"TODO"),s.a.createElement("div",{className:"tag"}," An easy way to manage your work. ",s.a.createElement("span",{className:"caret"},"|")))}function g(){return s.a.createElement("footer",{role:"contentinfo",className:"footer"},s.a.createElement("i",{className:"material-icons"},"favorite"),"Made with love for MyBird TODO")}a(136);var f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){window.addEventListener("scroll",a.handleScroll,{passive:!0})},a.componentWillUnmount=function(){window.removeEventListener("scroll",a.handleScroll)},a.handleScroll=function(e){window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight?a.setState({isLoading:!0}):setTimeout(function(){var e=a.state.elementList,t=e.length;e.push({name:t}),a.setState({elementList:e,isLoading:!1})},3e3)},a.state={elementList:[{name:1},{name:2},{name:3}],isLoading:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.elementList,a=e.isLoading;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,t.map(function(e,t){return s.a.createElement("div",{className:"scrol",key:t},e.name)})),s.a.createElement("div",{className:"loading"},a?"Loading...":""))}}]),t}(n.Component),b=[["bold","italic","underline","strike"],["link","image"],[{size:["small",!1,"large","huge"]}],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]],k=a(125),v=a.n(k),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.createQuill()},a.createQuill=function(){var e=document.getElementById("editor"),t={debug:"info",modules:{toolbar:b},placeholder:"Compose an epic...",readOnly:!1,theme:"snow"};new v.a(e,t)},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"editor"})}}]),t}(n.Component),N=a(22),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={signIn:{username:"",password:"",remebmer:!1},name:"sign-in"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"signInOnChangeHandler",value:function(e){var t=this.state.signIn;"remebmer"===e.target.name?t[e.target.name]=e.target.checked:t[e.target.name]=e.target.value,this.setState({signIn:t})}},{key:"render",value:function(){var e=this,t=this.props.onSubmitHandler;return s.a.createElement("form",{onSubmit:function(a){t(a,e.state)},className:"sign-in-htm"},s.a.createElement("div",{className:"group"},s.a.createElement("label",{htmlFor:"user",className:"label"},"Email"),s.a.createElement("input",{required:!0,onChange:this.signInOnChangeHandler.bind(this),id:"user",name:"username",type:"text",className:"input"})),s.a.createElement("div",{className:"group"},s.a.createElement("label",{htmlFor:"pass",className:"label"},"Password"),s.a.createElement("input",{required:!0,onChange:this.signInOnChangeHandler.bind(this),id:"pass",type:"password",name:"password",className:"input","data-type":"password"})),s.a.createElement("div",{className:"group"},s.a.createElement("input",{onChange:this.signInOnChangeHandler.bind(this),id:"check",type:"checkbox",name:"remebmer",className:"check"}),s.a.createElement("label",{htmlFor:"check"},s.a.createElement("span",{className:"icon"})," Keep me Signed in")),s.a.createElement("div",{className:"group"},s.a.createElement("input",{type:"submit",className:"button",name:"sign-in",value:"Sign In"})),s.a.createElement("div",{className:"hr"}),s.a.createElement("div",{className:"foot-lnk"},s.a.createElement(u.b,{to:"/todos"},"Use App without Login")),s.a.createElement("div",{className:"hr"}),s.a.createElement("div",{className:"foot-lnk"},s.a.createElement("a",{href:"#forgot"},"Forgot Password?")))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={signUp:{username:"",password:"",repeat:"",email:""},name:"sign-up"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"signUpOnChangeHandler",value:function(e){var t=this.state.signUp;t[e.target.name]=e.target.value,this.setState({signUp:t})}},{key:"render",value:function(){var e=this,t=this.props.onSubmitHandler;return s.a.createElement("form",{onSubmit:function(a){t(a,e.state)},className:"sign-up-htm"},s.a.createElement("div",{className:"group"},s.a.createElement("label",{htmlFor:"user",className:"label"},"Username"),s.a.createElement("input",{required:!0,onChange:this.signUpOnChangeHandler.bind(this),id:"user",name:"username",type:"text",className:"input"})),s.a.createElement("div",{className:"group"},s.a.createElement("label",{htmlFor:"pass",className:"label"},"Password"),s.a.createElement("input",{required:!0,onChange:this.signUpOnChangeHandler.bind(this),id:"pass",type:"password",name:"password",className:"input","data-type":"password"})),s.a.createElement("div",{className:"group"},s.a.createElement("label",{htmlFor:"pass",className:"label"},"Repeat Password"),s.a.createElement("input",{required:!0,onChange:this.signUpOnChangeHandler.bind(this),id:"pass",type:"password",name:"repeat",className:"input","data-type":"password"})),s.a.createElement("div",{className:"group"},s.a.createElement("label",{htmlFor:"pass",className:"label"},"Email Address"),s.a.createElement("input",{required:!0,onChange:this.signUpOnChangeHandler.bind(this),id:"pass",type:"text",name:"email",className:"input"})),s.a.createElement("div",{className:"group"},s.a.createElement("input",{type:"submit",className:"button",name:"sign-up",value:"Sign Up"})),s.a.createElement("div",{className:"hr"}),s.a.createElement("div",{className:"foot-lnk"},s.a.createElement("label",{htmlFor:"tab-1"},"Already Member?")))}}]),t}(n.Component),O=a(24),T=a.n(O),S=a(50),j=a.n(S),C=a(30),H=a(51),D=a.n(H),U=function(e){return function(t){t({type:"FETCH_TASKS_DATA",value:e})}},A=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var s=a[n];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""},F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e=A("token");e&&j.a.verify(e,"secretkey23456",function(e,t){t&&a.getUserData(t.email)})},a.state={selectedForm:"sign-in",error:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getUserData",value:function(e){var t=this;T.a.post("https://mybird-todo.herokuapp.com/get-data",{email:e},{"Content-Type":"application/json"}).then(function(e){var a=e.data.tasks;t.props.fetchTasks({tasks:a,email:e.data.email}),setTimeout(function(){t.props.history.push({pathname:"/todos"})},1e3)})}},{key:"formSelectionHanndler",value:function(e){this.setState({selectedForm:e.target.name})}},{key:"onSubmitHandler",value:function(e,t){if(e.preventDefault(),"sign-in"===t.name){var a={email:t.signIn.username,password:t.signIn.password};this.gotoDashboard("/login",a)}else if("sign-up"===t.name){var n={email:t.signUp.email,username:t.signUp.username,password:t.signUp.password,usertype:"admin"};this.gotoDashboard("/signup",n)}}},{key:"gotoDashboard",value:function(e,t){var a=this;T.a.post("https://mybird-todo.herokuapp.com"+e,t,{"Content-Type":"application/json"}).then(function(t){t.data?(!function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"}("token",t.data.access_token,t.data.expires_in),a.getUserData(t.data.user.email)):t.data||"/signup"!==e?t.data||"/login"!==e||a.setState({error:"Please check your email and password"}):a.setState({error:"User Already Exists."})})}},{key:"render",value:function(){var e,t,a=this,n=this.state,r=n.selectedForm,i=n.error;return s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"login-wrap"},s.a.createElement("div",{className:"login-html"},s.a.createElement("p",{style:{color:"#8e0428f7"}},i),s.a.createElement("input",(e={id:"tab-1",type:"radio",name:"tab",className:"sign-in"},Object(N.a)(e,"name","sign-in"),Object(N.a)(e,"checked","sign-in"===r),Object(N.a)(e,"onChange",this.formSelectionHanndler.bind(this)),e)),s.a.createElement("label",{htmlFor:"tab-1",className:"tab"},"Sign In"),s.a.createElement("input",(t={id:"tab-2",type:"radio",name:"tab",className:"sign-up"},Object(N.a)(t,"name","sign-up"),Object(N.a)(t,"checked","sign-up"===r),Object(N.a)(t,"onChange",this.formSelectionHanndler.bind(this)),t)),s.a.createElement("label",{htmlFor:"tab-2",className:"tab"},"Sign Up"),s.a.createElement("div",{className:"login-form"},s.a.createElement(y,{onSubmitHandler:function(e,t){a.onSubmitHandler(e,t)}}),s.a.createElement(w,{onSubmitHandler:function(e,t){a.onSubmitHandler(e,t)}})))))}}]),t}(n.Component),x=Object(C.b)(function(e){return{taskState:e.taskState}},function(e){return{fetchTasks:function(t){var a=t.tasks,n=t.email;return e(U({tasks:a,email:n}))}}})(F);a(259);function L(e){var t=e.openNewTodo,a=e.toggleTodoHandler,n=e.addNewTodoHandler,r={title:"",description:"",priority:"High"};function i(e){r[e.target.name]=e.target.value}return s.a.createElement("main",{role:"main",className:t?"main-wrap":"hidden"},s.a.createElement("header",{role:"heading",className:"header"},s.a.createElement("h1",{className:"app-header"}," Add your task ",s.a.createElement("span",{className:"close-add-task",onClick:function(){a(!1)}},"X"))),s.a.createElement("section",{className:"main-content"},s.a.createElement("section",{className:"todo-form"},s.a.createElement("form",{role:"form",id:"todoForm",onSubmit:function(e){e.preventDefault(),r.time=(new Date).toLocaleString(),n(r)}},s.a.createElement("div",{className:"row"},s.a.createElement("label",{htmlFor:"title"}," Title "),s.a.createElement("input",{onChange:i,className:"form-input",name:"title",id:"title",type:"text",placeholder:"Learn JavaScript"})),s.a.createElement("div",{className:"row"},s.a.createElement("label",{htmlFor:"description"}," Description "),s.a.createElement("textarea",{onChange:i,id:"description",name:"description",rows:"4",cols:"30",placeholder:"Coz you already know Java"})),s.a.createElement("div",{className:"row"},s.a.createElement("label",{htmlFor:"priority"}," Priority "),s.a.createElement("select",{onChange:i,id:"priority",name:"priority"},s.a.createElement("option",{value:"high"},"High"),s.a.createElement("option",{value:"medium"},"Medium"),s.a.createElement("option",{value:"low"},"Low"))),s.a.createElement("div",{className:"row submit-btn"},s.a.createElement("input",{onChange:i,type:"submit",className:"primary-button",value:"DO IT"}))))))}var I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.completedTask,a=e.removeCompletedTaskHandler;e.num;return s.a.createElement("li",{className:"todo-item "+t.priority.toLowerCase()},s.a.createElement("div",{className:"icon-check"},s.a.createElement("i",{className:"pad-15 material-icons md-36 md-light",onClick:function(){a(t.key)}},"check_circle")),s.a.createElement("div",{className:"icon-delete"},s.a.createElement("i",{className:"pad-15 material-icons md-36 md-light",onClick:function(){a(t.key)}},"delete")),s.a.createElement("div",{className:"content"},t.title))}}]),t}(n.Component);var _=s.a.memo(function(e){var t=e.task,a=e.deleteTaskHandler,n=e.addCompletedTaskHandler;return s.a.createElement("li",{draggable:"true",className:"todo-item "+t.priority.toLowerCase()},s.a.createElement("div",{className:"card"},s.a.createElement("h3",{className:"todo-title"},s.a.createElement("span",{className:"action"},s.a.createElement("i",{className:"material-icons md-36 icon-delete",onClick:function(){a(t.key)}},"delete"),s.a.createElement("i",{className:"icon-checkbox-outline material-icons md-36 md-dark",onClick:function(){n(t.key)}},"check_box_outline_blank"),s.a.createElement("i",{className:"icon-checkbox material-icons md-36 md-light"},"check_box")),s.a.createElement("span",{className:"title"},t.title," ")),s.a.createElement("p",{className:"todo-description"},t.description," "),s.a.createElement("span",{className:"todo-priority"}," ",t.priority),s.a.createElement("span",{className:"time"},t.time)))}),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){if(a.props.authState.isAuthenticated||A("token")){var e=A("token");e&&j.a.verify(e,"secretkey23456",function(e,t){t&&a.getUserData(t.email)})}else T.a.get("https://jsonplaceholder.typicode.com/posts").then(function(e){D.a.getItem("tasks").then(function(e){e&&a.props.updateTasks(e.value)});var t=e.data.slice(1,10),n=[];t.map(function(e,t){n.push({title:e.title,description:e.body,completed:[!0,!1,!0,!0,!1,!0,!1,!1,!1,!1][t],priority:["Medium","High","Medium","High","Low","Medium","High","Low","Medium","High"][t]})}),a.props.updateTasks(n)})},a.state={openNewTodo:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleTodoHandler",value:function(e){this.setState(function(t,a){return{openNewTodo:e}})}},{key:"addNewTodoHandler",value:function(e){var t=this.props.taskState.tasks;t.push(e),this.props.updateTasks(t),this.toggleTodoHandler(!1)}},{key:"deleteTaskHandler",value:function(e){var t=this.props.taskState.tasks;t.splice(e,1),this.props.updateTasks(t)}},{key:"removeCompletedTaskHandler",value:function(e){var t=this.props.taskState.tasks;t[e].completed=!1,this.props.updateTasks(t)}},{key:"addCompletedTaskHandler",value:function(e){var t=this.props.taskState.tasks;t[e].completed=!0,this.props.updateTasks(t)}},{key:"render",value:function(){var e=this,t=this.props.taskState.tasks,a=this.state.openNewTodo;return s.a.createElement("section",{className:"todo-list-container"},s.a.createElement("div",{className:"todo-in-progress"},s.a.createElement("h2",null," Working tasks"),s.a.createElement("ul",{onDragStart:function(){console.log("on drag called")},className:"todo-list",id:"target"},t.map(function(t,a){if(!t.completed)return s.a.createElement(_,{task:t,key:a,deleteTaskHandler:function(){e.deleteTaskHandler(a)},addCompletedTaskHandler:function(){e.addCompletedTaskHandler(a)}})}),s.a.createElement("li",{className:"todo-item new"},s.a.createElement("div",{className:"card",onClick:function(){return e.toggleTodoHandler(!0)}},s.a.createElement("h3",{className:"todo-title"}," ",s.a.createElement("span",{className:"action"},s.a.createElement("i",{className:"complete material-icons md-36 md-light"},"add_circle_outline")),s.a.createElement("span",{className:"title"},"ADD A TODO")))),s.a.createElement(L,{openNewTodo:a,toggleTodoHandler:this.toggleTodoHandler.bind(this),addNewTodoHandler:this.addNewTodoHandler.bind(this)}))),s.a.createElement("div",{className:"todo-completed"},s.a.createElement("ul",{className:"todo-list-completed"},s.a.createElement("h2",null," Completed Tasks "),t.map(function(t,a){if(t.completed)return s.a.createElement(I,{completedTask:t,key:a,removeCompletedTaskHandler:e.removeCompletedTaskHandler.bind(e,a)})}))))}},{key:"getUserData",value:function(e){var t=this;T.a.post("https://mybird-todo.herokuapp.com/get-data",{email:e},{"Content-Type":"application/json"}).then(function(e){var a=e.data.tasks;t.props.fetchTasks({tasks:a,email:e.data.email})})}}]),t}(n.Component),P=Object(C.b)(function(e){return{taskState:e.taskState,authState:e.authState}},function(e){return{updateTasks:function(t){return e((a=t,function(e,t){var n={type:"UPDATE_TASK",value:a};t().authState.isAuthenticated?T.a.post("https://mybird-todo.herokuapp.com/send-data",{tasks:a,email:t().authState.email},{"Content-Type":"application/json"}).then(function(t){e(n)}):D.a.setItem("tasks",n).then(function(t){e(t)})}));var a},fetchTasks:function(t){var a=t.tasks,n=t.email;return e(U({tasks:a,email:n}))}}})(M),q=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(u.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(h,null),s.a.createElement(p.c,null,s.a.createElement(p.a,{path:"/",exact:!0,component:x}),s.a.createElement(p.a,{path:"/todos",exact:!0,component:P}),s.a.createElement(p.a,{path:"/scroll",exact:!0,component:f}),s.a.createElement(p.a,{path:"/text-editor",exact:!0,component:E})),s.a.createElement(g,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(39),K=a(72),J={taskState:{tasks:[]},authState:{isAuthenticated:!1,email:""}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TASK":return Object(K.a)({},e,{taskState:{tasks:t.value,openNewTodo:!1}});case"FETCH_TASKS_DATA":return Object(K.a)({},e,{taskState:{tasks:t.value.tasks},authState:{isAuthenticated:!0,email:t.value.email}});default:return e}},z=a(128),Q=Object(B.c)(W,Object(B.a)(z.a));i.a.render(s.a.createElement(C.a,{store:Q},s.a.createElement(q,{title:"My Bird"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[129,1,2]]]);
//# sourceMappingURL=main.56277c4c.chunk.js.map