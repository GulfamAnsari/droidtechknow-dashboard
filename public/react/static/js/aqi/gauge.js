!function (e) { var t = function (e) { var l = e.document, t = Array.prototype.slice, f = e.requestAnimationFrame || e.mozRequestAnimationFrame || e.webkitRequestAnimationFrame || e.msRequestAnimationFrame || function (e) { return setTimeout(e, 1e3 / 60) }, n; function j(e) { var t = e.duration, n = 1, a = 60 * t, r = e.start || 0, i = e.end, o = i - r, u = e.step, l = e.easing || function e(t) { if ((t /= .5) < 1) return .5 * Math.pow(t, 3); return .5 * (Math.pow(t - 2, 3) + 2) }; function s() { var e = n / a, t = o * l(e) + r; u(t, n); n += 1; if (e < 1) { f(s) } } f(s) } return function () { var i = "http://www.w3.org/2000/svg"; var o = { centerX: 50, centerY: 50 }; var R = { dialRadius: 40, dialStartAngle: 135, dialEndAngle: 45, value: 0, max: 100, min: 0, valueDialClass: "value", valueClass: "value-text", dialClass: "dial", gaugeClass: "gauge", showValue: true, gaugeColor: null, label: function (e) { return Math.round(e) } }; function E() { var n = arguments[0], e = t.call(arguments, 1); e.forEach(function (e) { for (var t in e) { if (e.hasOwnProperty(t)) { n[t] = e[t] } } }); return n } function q(e, t, n) { var a = l.createElementNS(i, e); for (var r in t) { a.setAttribute(r, t[r]) } if (n) { n.forEach(function (e) { a.appendChild(e) }) } return a } function F(e, t) { return e * t / 100 } function S(e, t, n) { var a = Number(e); if (a > n) return n; if (a < t) return t; return a } function z(e, t, n) { var a = n - t, r = e - t; return 100 * r / a } function u(e, t, n, a) { var r = a * Math.PI / 180; return { x: Math.round((e + n * Math.cos(r)) * 1e3) / 1e3, y: Math.round((t + n * Math.sin(r)) * 1e3) / 1e3 } } function N(e, t, n) { var a = o.centerX, r = o.centerY; return { end: u(a, r, e, n), start: u(a, r, e, t) } } return function e(t, i) { i = E({}, R, i); var n = t, o = i.max, u = i.min, a = S(i.value, u, o), l = i.dialRadius, s = i.showValue, f = i.dialStartAngle, d = i.dialEndAngle, r = i.valueDialClass, c = i.valueClass, v = i.valueLabelClass, m = i.dialClass, h = i.gaugeClass, g = i.color, p, w, y = i.label, A = i.viewBox, x; if (f < d) { console.log("WARN! startAngle < endAngle, Swapping"); var b = f; f = d; d = b } function C(e, t, n, a) { var r = N(e, t, n), i = r.start, o = r.end, u = typeof a === "undefined" ? 1 : a; return ["M", i.x, i.y, "A", e, e, 0, u, 1, o.x, o.y].join(" ") } function M(e) { p = q("text", { x: 50, y: 50, fill: "#999", class: c, "font-size": "100%", "font-family": "sans-serif", "font-weight": "normal", "text-anchor": "middle", "alignment-baseline": "middle", "dominant-baseline": "central" }); w = q("path", { class: r, fill: "none", stroke: "#666", "stroke-width": 2.5, d: C(l, f, f) }); var t = F(100, 360 - Math.abs(f - d)); var n = t <= 180 ? 0 : 1; var a = q("svg", { viewBox: A || "0 0 100 100", class: h }, [q("path", { class: m, fill: "none", stroke: "#eee", "stroke-width": 2, d: C(l, f, d, n) }), p, w]); e.appendChild(a) } function k(e, t) { var n = z(e, u, o), a = F(n, 360 - Math.abs(f - d)), r = a <= 180 ? 0 : 1; if (s) { p.textContent = y.call(i, e) } w.setAttribute("d", C(l, f, a + f, r)) } function V(e, t) { var n = g(e), a = t * 1e3, r = "stroke " + a + "ms ease"; w.style.stroke = n; w.style["-webkit-transition"] = r; w.style["-moz-transition"] = r; w.style.transition = r } x = { setMaxValue: function (e) { o = e }, setValue: function (e) { a = S(e, u, o); if (g) { V(a, 0) } k(a) }, setValueAnimated: function (e, t) { var n = a; a = S(e, u, o); if (n === a) { return } if (g) { V(a, t) } j({ start: n || 0, end: a, duration: t || 1, step: function (e, t) { k(e, t) } }) }, getValue: function () { return a } }; M(n); x.setValue(a); return x } }() }(e); "function" == typeof define && define.amd ? define(function () { return t }) : "object" == typeof module && module.exports ? module.exports = t : e.Gauge = t }("undefined" == typeof window ? this : window);